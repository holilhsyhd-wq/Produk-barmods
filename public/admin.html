<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Admin Panel Barmods</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #020617;
      --card: #020617;
      --card-soft: #0b1220;
      --primary: #2563eb;
      --accent: #22c55e;
      --danger: #ef4444;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --radius-lg: 18px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background:
        radial-gradient(circle at top left, #1d4ed8 0, transparent 55%),
        radial-gradient(circle at bottom right, #0f766e 0, transparent 55%),
        #020617;
      color: var(--text);
      min-height: 100vh;
      padding-bottom: 80px;
    }

    .page {
      max-width: 900px;
      margin: 0 auto;
      padding: 16px 16px 90px;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }

    .header-title {
      font-size: 20px;
      font-weight: 700;
    }

    .header-sub {
      font-size: 12px;
      color: var(--muted);
      margin-top: 4px;
    }

    .btn-logout {
      padding: 8px 14px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, #ef4444, #b91c1c);
      color: #fee2e2;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
    }

    .tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 12px;
      overflow-x: auto;
    }

    .tab-btn {
      flex: 0 0 auto;
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: rgba(15, 23, 42, 0.9);
      color: var(--muted);
      font-size: 12px;
      cursor: pointer;
    }

    .tab-btn.active {
      background: radial-gradient(circle at top, #1d4ed8, #1e293b);
      color: #e5e7eb;
      border-color: rgba(96, 165, 250, 0.8);
      box-shadow: 0 0 0 1px rgba(96, 165, 250, 0.6);
    }

    .card {
      background: rgba(15, 23, 42, 0.96);
      border-radius: var(--radius-lg);
      border: 1px solid rgba(30, 64, 175, 0.7);
      box-shadow: 0 18px 45px rgba(15, 23, 42, 0.9);
      padding: 14px 14px 16px;
      margin-bottom: 14px;
    }

    .card-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .card-sub {
      font-size: 11px;
      color: var(--muted);
      margin-bottom: 12px;
    }

    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 8px;
      margin-bottom: 10px;
    }

    label {
      font-size: 11px;
      color: var(--muted);
      display: block;
      margin-bottom: 3px;
    }

    input, select, textarea {
      width: 100%;
      padding: 7px 9px;
      border-radius: 10px;
      border: 1px solid rgba(51, 65, 85, 0.9);
      background: rgba(15, 23, 42, 0.9);
      color: var(--text);
      font-size: 12px;
    }

    textarea {
      min-height: 60px;
      resize: vertical;
    }

    .btn-primary {
      padding: 8px 14px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #022c22;
      font-weight: 600;
      font-size: 12px;
      cursor: pointer;
      margin-right: 6px;
    }

    .btn-secondary {
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: rgba(15, 23, 42, 0.9);
      color: var(--muted);
      font-size: 12px;
      cursor: pointer;
    }

    .list {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .item {
      border-radius: 14px;
      border: 1px solid rgba(31, 41, 55, 0.9);
      background: radial-gradient(circle at top left, rgba(30, 64, 175, 0.4), rgba(15, 23, 42, 0.98));
      padding: 10px 12px;
      font-size: 12px;
    }

    .item-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 4px;
      gap: 6px;
    }

    .badge {
      padding: 3px 8px;
      border-radius: 999px;
      font-size: 10px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: rgba(15, 23, 42, 0.9);
    }

    .badge-success {
      border-color: rgba(34, 197, 94, 0.8);
      color: #bbf7d0;
    }

    .badge-pending {
      border-color: rgba(234, 179, 8, 0.8);
      color: #facc15;
    }

    .badge-danger {
      border-color: rgba(248, 113, 113, 0.8);
      color: #fecaca;
    }

    .item-row {
      margin-top: 2px;
      color: var(--muted);
    }

    .item-actions {
      margin-top: 6px;
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .toast {
      position: fixed;
      left: 50%;
      bottom: 80px;
      transform: translateX(-50%);
      padding: 9px 14px;
      border-radius: 999px;
      font-size: 12px;
      background: rgba(15, 23, 42, 0.96);
      color: #e5e7eb;
      border: 1px solid rgba(148, 163, 184, 0.7);
      box-shadow: 0 16px 40px rgba(15, 23, 42, 0.95);
      z-index: 1000;
      display: none;
    }

    .toast.show {
      display: block;
      animation: fadeInOut 2.4s ease forwards;
    }

    @keyframes fadeInOut {
      0% { opacity: 0; transform: translate(-50%, 10px); }
      10% { opacity: 1; transform: translate(-50%, 0); }
      80% { opacity: 1; transform: translate(-50%, 0); }
      100% { opacity: 0; transform: translate(-50%, 10px); }
    }

    .hidden { display: none; }
  </style>
</head>
<body>
  <div class="page">
    <div class="header">
      <div>
        <div class="header-title">Admin Panel Barmods</div>
        <div class="header-sub" id="adminInfo">Memuat admin...</div>
      </div>
      <button class="btn-logout" id="btnLogout">Logout Admin</button>
    </div>

    <div class="tabs">
      <button class="tab-btn active" data-tab="produk">Produk</button>
      <button class="tab-btn" data-tab="topup">Topup</button>
      <button class="tab-btn" data-tab="saldo">Saldo User</button>
      <button class="tab-btn" data-tab="orders">Orders</button>
    </div>

    <!-- TAB PRODUK -->
    <section id="tab-produk">
      <div class="card">
        <div class="card-title">Tambah / Edit Produk</div>
        <div class="card-sub">Kelola produk yang tampil di Barmods Store.</div>

        <div class="form-grid">
          <div>
            <label>Nama produk</label>
            <input type="text" id="prodName" placeholder="Nama produk" />
          </div>
          <div>
            <label>Harga (angka saja, contoh: 2000)</label>
            <input type="number" id="prodPrice" placeholder="2000" />
          </div>
          <div>
            <label>Stok</label>
            <input type="number" id="prodStock" placeholder="100" />
          </div>
          <div>
            <label>Kategori (premium / sosmed / panel / dll)</label>
            <input type="text" id="prodCategory" placeholder="premium / sosmed / panel" />
          </div>
          <div>
            <label>Icon (emoji, opsional)</label>
            <input type="text" id="prodIcon" placeholder="üî•" />
          </div>
        </div>

        <div>
          <span id="prodFormMode" style="font-size:11px;color:var(--muted);">Mode: tambah baru</span>
        </div>

        <div style="margin-top:8px;">
          <button class="btn-primary" id="btnSaveProduct">Simpan Produk</button>
          <button class="btn-secondary" id="btnResetProduct">Reset Form</button>
        </div>
      </div>

      <div class="card">
        <div class="card-title">Daftar Produk</div>
        <div class="card-sub" id="prodListInfo">Memuat produk...</div>
        <div class="list" id="prodList"></div>
      </div>
    </section>

    <!-- TAB TOPUP -->
    <section id="tab-topup" class="hidden">
      <div class="card">
        <div class="card-title">Daftar Topup</div>
        <div class="card-sub">Verifikasi permintaan topup user. Jika diset <b>success</b>, saldo user akan otomatis bertambah.</div>
        <div class="list" id="topupList"></div>
      </div>
    </section>

    <!-- TAB SALDO USER -->
    <section id="tab-saldo" class="hidden">
      <div class="card">
        <div class="card-title">Saldo User</div>
        <div class="card-sub">Lihat dan atur saldo user secara manual bila diperlukan.</div>
        <div class="list" id="userList"></div>
      </div>
    </section>

    <!-- TAB ORDERS -->
    <section id="tab-orders" class="hidden">
      <div class="card">
        <div class="card-title">Daftar Orders</div>
        <div class="card-sub">Kelola pesanan user. Field <b>Data yang kamu kirim</b> diambil dari <code>dataOrder</code>.</div>
        <div class="list" id="orderList"></div>
      </div>
    </section>
  </div>

  <div id="toast" class="toast"></div>

  <!-- Firebase compat -->
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>

  <script>
    // CONFIG PROJEK KAMU
    const firebaseConfig = {
      apiKey: "AIzaSyBpsfDmupS9wq-iNge5aYvknmw5bSryd3A",
      authDomain: "toko-barmods.firebaseapp.com",
      projectId: "toko-barmods",
      storageBucket: "toko-barmods.firebasestorage.app",
      messagingSenderId: "284047189012",
      appId: "1:284047189012:web:6ef0c6891adab08a383301"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    const adminInfoEl = document.getElementById("adminInfo");
    const toastEl = document.getElementById("toast");

    // elemen produk
    const prodNameEl = document.getElementById("prodName");
    const prodPriceEl = document.getElementById("prodPrice");
    const prodStockEl = document.getElementById("prodStock");
    const prodCategoryEl = document.getElementById("prodCategory");
    const prodIconEl = document.getElementById("prodIcon");
    const prodFormModeEl = document.getElementById("prodFormMode");
    const prodListEl = document.getElementById("prodList");
    const prodListInfoEl = document.getElementById("prodListInfo");

    const topupListEl = document.getElementById("topupList");
    const userListEl = document.getElementById("userList");
    const orderListEl = document.getElementById("orderList");

    let currentAdmin = null;
    let editingProductId = null;

    function showToast(msg) {
      toastEl.textContent = msg;
      toastEl.classList.remove("show");
      void toastEl.offsetWidth;
      toastEl.classList.add("show");
    }

    function formatRupiah(num) {
      if (typeof num === "string") {
        const cleaned = num.replace(/[^0-9]/g, "");
        if (!cleaned) return num;
        num = parseInt(cleaned, 10);
      }
      if (isNaN(num)) return "Rp 0";
      return "Rp " + num.toLocaleString("id-ID");
    }

    // --------- AUTH ADMIN ----------
    auth.onAuthStateChanged(async (user) => {
      if (!user) {
        window.location.href = "admin-login.html";
        return;
      }
      try {
        const snap = await db.collection("users").doc(user.uid).get();
        const data = snap.data() || {};
        if (!data.isAdmin) {
          await auth.signOut();
          alert("Akun ini bukan admin. Hubungi pemilik panel untuk akses admin.");
          window.location.href = "admin-login.html";
          return;
        }
        currentAdmin = user;
        adminInfoEl.textContent = `${user.email} (Admin)`;

        // load data awal
        loadProducts();
        loadTopups();
        loadUsers();
        loadOrders();
      } catch (err) {
        console.error(err);
        alert("Gagal memeriksa hak admin.");
        window.location.href = "admin-login.html";
      }
    });

    document.getElementById("btnLogout").addEventListener("click", async () => {
      try {
        await auth.signOut();
      } catch (e) {}
      window.location.href = "admin-login.html";
    });

    // --------- TAB HANDLER ----------
    const tabButtons = document.querySelectorAll(".tab-btn");
    const sections = {
      produk: document.getElementById("tab-produk"),
      topup: document.getElementById("tab-topup"),
      saldo: document.getElementById("tab-saldo"),
      orders: document.getElementById("tab-orders"),
    };

    tabButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        tabButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        const tab = btn.getAttribute("data-tab");
        Object.keys(sections).forEach(k => {
          sections[k].classList.toggle("hidden", k !== tab);
        });
      });
    });

    // --------- PRODUK ----------
    function resetProductForm() {
      editingProductId = null;
      prodNameEl.value = "";
      prodPriceEl.value = "";
      prodStockEl.value = "";
      prodCategoryEl.value = "";
      prodIconEl.value = "";
      prodFormModeEl.textContent = "Mode: tambah baru";
    }

    document.getElementById("btnResetProduct").addEventListener("click", resetProductForm);

    document.getElementById("btnSaveProduct").addEventListener("click", async () => {
      const name = prodNameEl.value.trim();
      const price = parseInt(prodPriceEl.value, 10) || 0;
      const stock = parseInt(prodStockEl.value, 10) || 0;
      const category = prodCategoryEl.value.trim() || "lainnya";
      const icon = prodIconEl.value.trim() || "‚≠ê";

      if (!name) {
        showToast("Nama produk wajib diisi.");
        return;
      }
      if (price <= 0) {
        showToast("Harga harus lebih dari 0.");
        return;
      }

      const data = {
        name,
        price,
        stock,
        category,
        icon
      };

      try {
        if (editingProductId) {
          await db.collection("products").doc(editingProductId).update(data);
          showToast("Produk berhasil diupdate.");
        } else {
          await db.collection("products").add(data);
          showToast("Produk baru berhasil ditambahkan.");
        }
        resetProductForm();
        loadProducts();
      } catch (err) {
        console.error(err);
        showToast("Gagal menyimpan produk.");
      }
    });

    async function loadProducts() {
      prodListEl.innerHTML = "";
      prodListInfoEl.textContent = "Memuat produk...";
      try {
        const snap = await db.collection("products").orderBy("name").get();
        if (snap.empty) {
          prodListInfoEl.textContent = "Belum ada produk.";
          return;
        }
        prodListInfoEl.textContent = `Total produk: ${snap.size}`;
        snap.forEach(doc => {
          const p = doc.data();
          const item = document.createElement("div");
          item.className = "item";

          const priceText = formatRupiah(p.price || 0);
          const stock = typeof p.stock === "number" ? p.stock : 0;
          const icon = p.icon || "‚≠ê";
          const cat = p.category || "lainnya";

          item.innerHTML = `
            <div class="item-header">
              <div><strong>${icon} ${p.name || "Tanpa nama"}</strong></div>
              <div class="badge">${cat}</div>
            </div>
            <div class="item-row">Harga: ${priceText}</div>
            <div class="item-row">Stok: ${stock}</div>
          `;

          const actions = document.createElement("div");
          actions.className = "item-actions";

          const btnEdit = document.createElement("button");
          btnEdit.className = "btn-secondary";
          btnEdit.textContent = "Edit";
          btnEdit.addEventListener("click", () => {
            editingProductId = doc.id;
            prodNameEl.value = p.name || "";
            prodPriceEl.value = p.price || "";
            prodStockEl.value = stock;
            prodCategoryEl.value = cat;
            prodIconEl.value = icon;
            prodFormModeEl.textContent = `Mode: edit (${p.name || ""})`;
            window.scrollTo({ top: 0, behavior: "smooth" });
          });

          const btnDelete = document.createElement("button");
          btnDelete.className = "btn-secondary";
          btnDelete.style.borderColor = "rgba(248,113,113,0.8)";
          btnDelete.textContent = "Hapus";
          btnDelete.addEventListener("click", async () => {
            if (!confirm(`Hapus produk "${p.name}"?`)) return;
            try {
              await db.collection("products").doc(doc.id).delete();
              showToast("Produk dihapus.");
              loadProducts();
            } catch (err) {
              console.error(err);
              showToast("Gagal menghapus produk.");
            }
          });

          actions.appendChild(btnEdit);
          actions.appendChild(btnDelete);
          item.appendChild(actions);

          prodListEl.appendChild(item);
        });
      } catch (err) {
        console.error(err);
        prodListInfoEl.textContent = "Gagal memuat produk.";
      }
    }

    // --------- TOPUP ----------
    async function loadTopups() {
      topupListEl.innerHTML = "<div class='item-row'>Memuat topup...</div>";
      try {
        const snap = await db.collection("topups")
          .orderBy("createdAt", "desc")
          .limit(50)
          .get();

        if (snap.empty) {
          topupListEl.innerHTML = "<div class='item-row'>Belum ada data topup.</div>";
          return;
        }

        topupListEl.innerHTML = "";
        snap.forEach(doc => {
          const t = doc.data();
          const item = document.createElement("div");
          item.className = "item";

          const status = (t.status || "pending").toLowerCase();
          let badgeClass = "badge-pending";
          if (status === "success") badgeClass = "badge-success";
          else if (status === "cancel") badgeClass = "badge-danger";

          const amount = formatRupiah(t.amount || 0);
          const userEmail = t.userEmail || "-";
          const createdAt = t.createdAt && t.createdAt.toDate
            ? t.createdAt.toDate().toLocaleString("id-ID")
            : "-";

          item.innerHTML = `
            <div class="item-header">
              <div><strong>Topup - ${userEmail}</strong></div>
              <div class="badge ${badgeClass}">${status.toUpperCase()}</div>
            </div>
            <div class="item-row">Nominal: ${amount}</div>
            <div class="item-row">Metode: ${t.method || "-"}</div>
            <div class="item-row">Tanggal: ${createdAt}</div>
          `;

          const actions = document.createElement("div");
          actions.className = "item-actions";

          const selectStatus = document.createElement("select");
          ["pending", "success", "cancel"].forEach(s => {
            const opt = document.createElement("option");
            opt.value = s;
            opt.textContent = s.toUpperCase();
            if (s === status) opt.selected = true;
            selectStatus.appendChild(opt);
          });

          const btnSave = document.createElement("button");
          btnSave.className = "btn-primary";
          btnSave.textContent = "Simpan Status";

          btnSave.addEventListener("click", async () => {
            const newStatus = selectStatus.value;
            try {
              await db.runTransaction(async (tx) => {
                const ref = db.collection("topups").doc(doc.id);
                const snap2 = await tx.get(ref);
                const data2 = snap2.data() || {};
                const oldStatus = (data2.status || "pending").toLowerCase();

                tx.update(ref, { status: newStatus });

                if (oldStatus !== "success" && newStatus === "success") {
                  // kredit saldo user
                  const userRef = db.collection("users").doc(data2.userId);
                  const userSnap = await tx.get(userRef);
                  const udata = userSnap.data() || {};
                  const bal = udata.balance || 0;
                  tx.update(userRef, { balance: bal + (data2.amount || 0) });
                }
              });

              showToast("Status topup disimpan.");
              loadTopups();
              loadUsers();
            } catch (err) {
              console.error(err);
              showToast("Gagal menyimpan status topup.");
            }
          });

          actions.appendChild(selectStatus);
          actions.appendChild(btnSave);
          item.appendChild(actions);

          topupListEl.appendChild(item);
        });
      } catch (err) {
        console.error(err);
        topupListEl.innerHTML = "<div class='item-row'>Gagal memuat topup.</div>";
      }
    }

    // --------- SALDO USER ----------
    async function loadUsers() {
      userListEl.innerHTML = "<div class='item-row'>Memuat user...</div>";
      try {
        const snap = await db.collection("users")
          .orderBy("email")
          .limit(100)
          .get();

        if (snap.empty) {
          userListEl.innerHTML = "<div class='item-row'>Belum ada user.</div>";
          return;
        }

        userListEl.innerHTML = "";
        snap.forEach(doc => {
          const u = doc.data();
          const item = document.createElement("div");
          item.className = "item";

          const balance = u.balance || 0;
          const isAdmin = !!u.isAdmin;

          item.innerHTML = `
            <div class="item-header">
              <div><strong>${u.email || "Tanpa email"}</strong></div>
              <div class="badge ${isAdmin ? "badge-success" : ""}">${isAdmin ? "ADMIN" : "USER"}</div>
            </div>
            <div class="item-row">Saldo: ${formatRupiah(balance)}</div>
            <div class="item-row">UID: ${doc.id}</div>
          `;

          const actions = document.createElement("div");
          actions.className = "item-actions";

          const inpSaldo = document.createElement("input");
          inpSaldo.type = "number";
          inpSaldo.value = balance;
          inpSaldo.style.maxWidth = "120px";

          const btnSet = document.createElement("button");
          btnSet.className = "btn-primary";
          btnSet.textContent = "Set Saldo";

          btnSet.addEventListener("click", async () => {
            const newBal = parseInt(inpSaldo.value, 10) || 0;
            try {
              await db.collection("users").doc(doc.id).update({ balance: newBal });
              showToast("Saldo user diupdate.");
              loadUsers();
            } catch (err) {
              console.error(err);
              showToast("Gagal update saldo user.");
            }
          });

          actions.appendChild(inpSaldo);
          actions.appendChild(btnSet);
          item.appendChild(actions);

          userListEl.appendChild(item);
        });
      } catch (err) {
        console.error(err);
        userListEl.innerHTML = "<div class='item-row'>Gagal memuat user.</div>";
      }
    }

    // --------- ORDERS ----------
    async function loadOrders() {
      orderListEl.innerHTML = "<div class='item-row'>Memuat orders...</div>";
      try {
        const snap = await db.collection("orders")
          .orderBy("createdAt", "desc")
          .limit(50)
          .get();

        if (snap.empty) {
          orderListEl.innerHTML = "<div class='item-row'>Belum ada pesanan.</div>";
          return;
        }

        orderListEl.innerHTML = "";
        snap.forEach(doc => {
          const o = doc.data();
          const item = document.createElement("div");
          item.className = "item";

          const status = (o.status || "pending").toLowerCase();
          let badgeClass = "badge-pending";
          if (status === "success") badgeClass = "badge-success";
          else if (status === "cancel" || status === "failed") badgeClass = "badge-danger";

          const createdAt = o.createdAt && o.createdAt.toDate
            ? o.createdAt.toDate().toLocaleString("id-ID")
            : "-";

          const dataUser = o.dataOrder || "-";          // <<< ini yang ambil data yang user kirim
          const adminProd = o.adminProduct || "";

          item.innerHTML = `
            <div class="item-header">
              <div><strong>${o.productName || "Produk"}</strong></div>
              <div class="badge ${badgeClass}">${status.toUpperCase()}</div>
            </div>
            <div class="item-row">User: ${o.userEmail || "-"}</div>
            <div class="item-row">Harga: ${formatRupiah(o.price || 0)}</div>
            <div class="item-row">Tanggal: ${createdAt}</div>
            <div class="item-row">Data yang kamu kirim: ${dataUser}</div>
          `;

          const actions = document.createElement("div");
          actions.className = "item-actions";

          const selectStatus = document.createElement("select");
          ["pending", "process", "success", "cancel"].forEach(s => {
            const opt = document.createElement("option");
            opt.value = s;
            opt.textContent = s.toUpperCase();
            if (s === status) opt.selected = true;
            selectStatus.appendChild(opt);
          });

          const textAdmin = document.createElement("textarea");
          textAdmin.placeholder = "Produk / respon admin";
          textAdmin.value = adminProd;
          textAdmin.style.flex = "1 1 100%";

          const btnSave = document.createElement("button");
          btnSave.className = "btn-primary";
          btnSave.textContent = "Simpan Perubahan";

          btnSave.addEventListener("click", async () => {
            const newStatus = selectStatus.value;
            const newAdminText = textAdmin.value.trim();
            try {
              await db.collection("orders").doc(doc.id).update({
                status: newStatus,
                adminProduct: newAdminText
              });
              showToast("Order berhasil diupdate.");
              loadOrders();
            } catch (err) {
              console.error(err);
              showToast("Gagal update order.");
            }
          });

          actions.appendChild(selectStatus);
          actions.appendChild(btnSave);
          actions.appendChild(textAdmin);
          item.appendChild(actions);

          orderListEl.appendChild(item);
        });
      } catch (err) {
        console.error(err);
        orderListEl.innerHTML = "<div class='item-row'>Gagal memuat orders.</div>";
      }
    }
  </script>
</body>
</html>
